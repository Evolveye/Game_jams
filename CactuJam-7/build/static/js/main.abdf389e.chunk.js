(this["webpackJsonpcactujam-7"]=this["webpackJsonpcactujam-7"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),o=n(5),s=n.n(o),r=n(2),c=n(1),l=n(6),u=n(3),f=n(8),h=n(7),d=function e(){Object(c.a)(this,e),this.neighbours={left:!1,top:!1,right:!1,bottom:!1}},p=function e(){Object(c.a)(this,e)},v=function e(){Object(c.a)(this,e)},w=function e(){Object(c.a)(this,e)},m=function e(){Object(c.a)(this,e)},b=function e(){Object(c.a)(this,e)},y=function e(t,n){Object(c.a)(this,e),this.canShoot=!0,this.shooting=!1,this.kills=0,this.x=t,this.y=n},g=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.score,o=void 0===a?10:a,s=i.size,r=void 0===s?1:s,l=i.speed,u=void 0===l?1:l,f=i.hp,h=void 0===f?1:f;Object(c.a)(this,e),this.x=t,this.y=n,this.size=r,this.speedMultiplier=u,this.hp=h,this.score=o},z=function(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))},k=function(e,t){return e+Math.floor((t-e)*Math.random())},j=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).width=window.innerWidth,e.height=window.innerHeight,e.canvas=null,e.ctx=null,e.loopId=0,e.timerId=0,e.keys=[],e.mouse={_pressUsed:0,x:null,y:null,pressed:!1,get isFirstPressUse(){return!!this.pressed&&(this._pressUsed+=1,this._pressUsed-1===0)}},e.level=[[]],e.webCellSize=19,e.offsetLeft=0,e.offsetTop=0,e.gravitySpeed=.1,e.webColor="white",e.maxCobwebWidth=200,e.entities=[],e.viewfinderSize=30,e.spawnSpeed=1,e.gameover=!1,e.HomefliesLevels=[{score:10,size:5,speed:1,hp:1},{score:12,size:3,speed:2,hp:1},{score:15,size:2,speed:2,hp:1},{score:20,size:10,speed:2,hp:3},{score:25,size:13,speed:3,hp:5},{score:33,size:15,speed:3,hp:5},{score:40,size:15,speed:5,hp:5},{score:50,size:28,speed:6,hp:6},{score:65,size:22,speed:7,hp:6},{score:80,size:25,speed:8,hp:6},{score:100,size:30,speed:9,hp:7},{score:115,size:35,speed:12,hp:7},{score:140,size:39,speed:12,hp:8},{score:160,size:41,speed:13,hp:8},{score:160,size:41,speed:13,hp:8}],e.state={score:0,time:0,killed:0},e.handleResize=function(){e.width=window.innerWidth,e.height=window.innerHeight,e.canvas.width=e.width,e.canvas.height=e.height,e.width<1550?e.webCellSize=10:e.width<1550?e.webCellSize=14:e.webCellSize=19},e.handleRef=function(t){e.canvas=t,e.ctx=t.getContext("2d")},e.logic=function(){var t=Object(u.a)(e),n=t.level,i=t.gravitySpeed,a=t.offsetLeft,o=t.offsetTop,s=t.webCellSize,r=t.width,c=t.height,l=t.mouse,f=t.keys,h=t.player,w=t.entities,b=t.viewfinderSize,y=t.maxCobwebWidth,j=t.HomefliesLevels,E=t.state,S=0,x=0,O=0;if(n){if((f[37]||f[65])&&(x-=.1),(f[38]||f[87])&&(O-=.1),(f[39]||f[68])&&(x+=.1),(f[40]||f[83])&&(O+=.1),l.isFirstPressUse){h.shooting=!0,h.canShoot=!1;var C=z(a+h.x*s+s/2,o+h.y*s+s/2,l.x,l.y)<y;w.filter((function(e){var t=e.x,n=e.y,i=e.size;return z(a+t*s,o+n*s,l.x,l.y)<i+b/2&&C})).forEach((function(e){return e.hp-=1})),setTimeout((function(){h.shooting=!1,h.canShoot=!0}),10)}if(Math.random()<=.003*(100+E.time)/100){var T=Math.floor(h.kills/10),M=T<j.length?T:j.length-1,L=j[k(M-4>=0?M-4:0,M)];w.push(new g(k(4,n[0].length-3),k(3,n.length-6),L))}var R=e.levelCell(h.x+x,h.y+O);if((null===R||void 0===R?void 0:R.some((function(e){return e instanceof m})))||(e.player.x+=x,e.player.y+=(null===R||void 0===R?void 0:R.some((function(e){return e instanceof d||e instanceof v||e instanceof p})))?O:e.gravitySpeed),e.entities=w.filter((function(t){var n=z(h.x+.5,h.y+.5,t.x,t.y)<t.size/s;if(t.hp>0)if(n)e.gameover=!0;else{var a,o=(Math.random()-.5)/4*t.speedMultiplier,r=(Math.random()-.5)/4*t.speedMultiplier;(null===(a=e.levelCell(t.x+o,t.y+r))||void 0===a?void 0:a.some((function(e){return e instanceof m})))||(t.x+=o,t.y+=r)}else{if(n)return h.kills+=1,e.setState((function(e){var n=e.score,i=e.killed;return{score:n+t.score,killed:i+1}})),!1;var c;(null===(c=e.levelCell(t.x,t.y+i-Math.random()))||void 0===c?void 0:c.some((function(e){return e instanceof d||e instanceof v||e instanceof p})))||(t.y+=i)}return!0})),n.forEach((function(e){return e.length>S&&(S=e.length)})),e.gameover)return alert("koniec gry"),e.init();e.offsetLeft=r/2-S*s/2,e.offsetTop=c/2-n.length*s/2}},e.draw=function(){var t=Object(u.a)(e),n=t.ctx,i=t.offsetLeft,a=t.offsetTop,o=t.webCellSize,s=t.width,r=t.height,c=t.mouse,l=t.maxCobwebWidth,f=t.player,h=t.entities,w=t.viewfinderSize;n.clearRect(0,0,s,r),e.level.forEach((function(e,t){return e.forEach((function(e,s){return e.forEach((function(e){var r=i+s*o,c=a+t*o;if(e instanceof p)n.fillStyle="orange",n.fillRect(r,c,o+1,o+1);else if(e instanceof b)n.fillStyle="#00d6ff",n.fillRect(r,c,o+1,o+1);else if(e instanceof v)n.fillStyle="green",n.fillRect(r,c,o+1,o+1);else if(e instanceof d){var l=e.neighbours,u=l.left,f=l.top,h=l.right,w=l.bottom;n.fillStyle="#fff8",n.fillRect(r,c,o+1,o+1),n.beginPath(),n.moveTo(r,c+o/2),n.lineTo(r+o,c+o/2),n.moveTo(r+o/2,c),n.lineTo(r+o/2,c+o),n.strokeStyle="#aaa",n.lineWidth=2,n.stroke(),n.beginPath(),u||(n.moveTo(r,c),n.lineTo(r,c+o)),f||(n.moveTo(r,c),n.lineTo(r+o,c)),h||(n.moveTo(r+o,c),n.lineTo(r+o,c+o)),w||(n.moveTo(r,c+o),n.lineTo(r+o,c+o)),n.strokeStyle="#fff",n.lineWidth=3,n.stroke()}}))}))})),h.forEach((function(e){var t=e.x,s=e.y,r=e.size;n.fillStyle="black",n.beginPath(),n.arc(i+t*o,a+s*o,r/2,0,2*Math.PI),n.fill()}));var m=i+f.x*o,y=a+f.y*o,g=o/3;c.x&&(n.strokeStyle=z(m+o/2,y+o/2,c.x,c.y)<l?"#0f0a":"#f00a",n.beginPath(),n.moveTo(m+o/2,y+o/2),n.lineTo(c.x,c.y),n.stroke(),n.beginPath(),n.arc(c.x,c.y,w/2,0,2*Math.PI),f.shooting?(n.strokeStyle="#fffb",n.stroke()):(n.fillStyle="#fff8",n.fill())),n.fillStyle="red",n.fillRect(m,y,g,g),n.fillRect(m+g,y+g,g,g),n.fillRect(m+2*g,y+2*g,g,g),n.fillRect(m+2*g,y,g,g),n.fillRect(m,y+2*g,g,g)},e.render=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("article",{className:"stats"},a.a.createElement("span",{className:"stats-item"},"Punkty: ",e.state.score),a.a.createElement("span",{className:"stats-item"},"Czas gry: ",e.state.time),a.a.createElement("span",{className:"stats-item"},"Zjedzone owady: ",e.state.killed),a.a.createElement("span",{className:"stats-item"},"Wynik: ",Math.floor(Math.pow(e.state.score,2)/(e.state.killed||1)/(1+(e.state.time||1)/100)))),a.a.createElement("article",{className:"description"},a.a.createElement("p",null,"Tw\xf3j paj\u0105k, to ten czerwony krzy\u017cyk."),a.a.createElement("p",null,"Poruszaj si\u0119 strza\u0142kami, a w owady strzelaj pajacz\u0105 nici\u0105 za pomoc\u0105 myszki."),a.a.createElement("p",null,"Je\u015bli zajedzie spotkanie paj\u0105ka z \u017cywym owadem, to przegrywasz."),a.a.createElement("p",null,"Wraz z wzrostem liczby zab\xf3jstw zaczna pojawia\u0107 si\u0119 kolejne rodzaje owad\xf3w. B\u0119d\u0105 mia\u0142y r\xf3\u017cne rozmiary, r\xf3\u017cne pr\u0119dko\u015bci, i r\xf3\u017cn\u0105 ilo\u015b\u0107 \u017cycia"),a.a.createElement("p",null,"Osiagnij najwy\u017cszy wynik poprzez zdobycie wyoskiej punkt\xf3w i niskiej liczby zab\xf3jstw w jak najkr\xf3tszym czasie"),a.a.createElement("p",null,"Zielony to trawa, po kt\xf3rej mozesz chodzi\u0107;",a.a.createElement("br",null),"pomara\u0144cz to drewno, po kt\xf3rym mo\u017cesz si\u0119 wspina\u0107;",a.a.createElement("br",null),"cyjan to niebo, po kt\xf3rym mo\u017cesz swobodnie spada\u0107."),a.a.createElement("p",null,"Czy osiagniesz chocia\u017c wynik wi\u0119kszy ni\u017c 10 tysi\u0119cy?")),a.a.createElement("canvas",{ref:e.handleRef,className:"game-web"}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.handleResize(),this.setEvents(),this.init()}},{key:"init",value:function(){this.stopLoop(),this.setDefaults(),this.startLoop()}},{key:"startLoop",value:function(){var e=this;this.timerId=setInterval((function(){return e.setState((function(e){return{time:e.time+1}}))}),1e3),this.loopId=setInterval((function(){e.logic(),e.ctx&&requestAnimationFrame(e.draw)}),1e3/60)}},{key:"stopLoop",value:function(){clearInterval(this.timerId),clearInterval(this.loopId)}},{key:"setDefaults",value:function(){var e=this;this.gameover=!1,this.gravitySpeed=.1,this.webColor="white",this.maxCobwebWidth=200,this.entities=[],this.viewfinderSize=30,this.spawnSpeed=1,this.keys=[],this.level=[["b","b","b","b","b","b"].concat(Object(r.a)("b".repeat(50).split("")),["b","b","b"]),["b","a","a","a","a","a"].concat(Object(r.a)("a".repeat(50).split("")),["a","a","b"])].concat(Object(r.a)(Array.from({length:15},(function(){return["b","w","a","a","a","a"].concat(Object(r.a)("a".repeat(50).split("")),["a","w","b"])}))),[["b","w","a","a","a","a"].concat(Object(r.a)("a".repeat(50).split("")),["a","w","b"]),["b","w","a","ca","ca","a"].concat(Object(r.a)("a".repeat(50).split("")),["a","w","b"]),["b","w","ca","ca","a","ca"].concat(Object(r.a)("a".repeat(50).split("")),["a","w","b"]),["b","w","ca","ca","ca","a"].concat(Object(r.a)("a".repeat(50).split("")),["a","w","b"]),["b","w","ca","ca","ca","ca"].concat(Object(r.a)("a".repeat(50).split("")),["a","w","b"]),["b","w","ca","a","ca","ca"].concat(Object(r.a)("a".repeat(50).split("")),["a","w","b"]),["b","w","cg","cg","g","g"].concat(Object(r.a)("g".repeat(50).split("")),["g","w","b"]),["b","w","g","g","g","g"].concat(Object(r.a)("g".repeat(50).split("")),["g","w","b"]),["b","b","b","b","b","b"].concat(Object(r.a)("b".repeat(50).split("")),["b","b","b"])]).map((function(e){return e.map((function(e){switch(e){case"w":return[new p];case"g":return[new v];case"c":return[new d];case"ca":return[new b,new d];case"cg":return[new v,new d];case"s":return[new w];case"b":return[new m];case"a":return[new b];default:return[]}}))})),this.player=new y(3,this.level.length-6),this.level.forEach((function(t,n){return t.forEach((function(t,i){var a,o,s,r,c,l,u,f,h=t.find((function(e){return e instanceof d}));h&&((null===(a=e.level[n+0])||void 0===a||null===(o=a[i-1])||void 0===o?void 0:o.some((function(e){return e instanceof d})))&&(h.neighbours.left=!0),(null===(s=e.level[n-1])||void 0===s||null===(r=s[i+0])||void 0===r?void 0:r.some((function(e){return e instanceof d})))&&(h.neighbours.top=!0),(null===(c=e.level[n+0])||void 0===c||null===(l=c[i+1])||void 0===l?void 0:l.some((function(e){return e instanceof d})))&&(h.neighbours.right=!0),(null===(u=e.level[n+1])||void 0===u||null===(f=u[i+0])||void 0===f?void 0:f.some((function(e){return e instanceof d})))&&(h.neighbours.bottom=!0))}))}))}},{key:"setEvents",value:function(){var e=this;document.addEventListener("keydown",(function(t){var n=t.keyCode;return e.keys[n]=!0})),document.addEventListener("keyup",(function(t){var n=t.keyCode;return e.keys[n]=!1})),document.addEventListener("pointerdown",(function(){e.mouse._pressUsed=0,e.mouse.pressed=!0})),document.addEventListener("pointerup",(function(){return e.mouse.pressed=!1})),document.addEventListener("mousemove",(function(t){var n=t.clientX,i=t.clientY;e.mouse.x=n,e.mouse.y=i})),window.addEventListener("resize",this.handleResize)}},{key:"levelCell",value:function(e,t){var n;return null===(n=this.level[Math.round(t)])||void 0===n?void 0:n[Math.round(e)]}}]),n}(a.a.Component),E=(n(14),function(){return a.a.createElement(j,null)}),S=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(E,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/cactujam/7",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/cactujam/7","/service-worker.js");S?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):x(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):x(t,e)}))}}()},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.abdf389e.chunk.js.map